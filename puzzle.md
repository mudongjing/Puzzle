## 简答的智力题及解答

1. 一个环形轨道上有n个加油站，所有加油站的油量总和正好够车跑一圈。证明，总能找到其中一个加油站，使得初始时油箱为空的汽车从这里出发，能够顺利环行一圈回到起点。

   原文中的答案：

   > 总存在一个加油站，仅用它的油就足够跑到下一个加油站（否则所有加油站的油量加起来将不够全程）。把下一个加油站的所有油都提前搬到这个加 油站来，并把油已被搬走的加油站无视掉。在剩下的加油站中继续寻找油量足以到达下个加油站的地方，不断合并加油站，直到只剩一个加油站为止。显然从这里出发就能顺利跑完全程。
   >
   > 另一种证明方法：先让汽车油箱里装好足够多的油，随便从哪个加油站出发试跑一圈。车每到一个加油站时，记录此时油箱里剩下的油量，然后把那个加油站的油全部装上。试跑完一圈后，检查刚才路上到哪个加油站时剩的油量最少，那么空着油箱从那里出发显然一定能跑完全程。

   这里可以假设两个加油站的油量历程如果可以到达对方的位置，则可以将二者视为一个个体。类似的，如果多个加油站可以保证从一个开始能够靠着油量里程经过这几个加油站，也可以将多个加油站视为一个个体。

   而一个独立的加油站，即油量里程无法到达附近的加油站，也可以视为一个个体。

   那么，现在总的油量里程是覆盖环形轨道的，设想我们顺时针前进，每个个体的油量里程也向前延伸出一条里程带。如果我们无论如何不能完成这次环形轨道，则意味着个体之间延伸的里程带是出现缺口的，那么就意味着原本覆盖整条轨道的油量凭空缺失了一部分，显然不可能，因此我们总可以从一个个体的开头出发完成轨道环行。

   --------------------------

2. 在一个m*n的棋盘上，有k个格子里放有棋子。是否总能对所有棋子进行红蓝二染色，使得每行每列的红色棋子和蓝色棋子最多差一个？

   原文答案：

   > 可以。建一个二分图G(X,Y)，其中X有m个顶点代表了棋盘的m个行，Y有n个顶点代表了棋盘的n个列。第i行第j列有棋子就在X(i) 和Y(j)之间连一条边。先找出图G里的所有环（由于是二分图，环的长度一定是偶数），把环里的边红蓝交替染色。剩下的没染色的图一定是一些树。对每棵树 递归地进行操作：去掉一个叶子节点和对应边，把剩下的树进行合法的红蓝二染色，再把刚才去掉的顶点和边加回去，给这个边适当的颜色以满足要求。

   为了保证染色后对最后的结果不产生恶劣影响，则要求染色时最好是上下左右都搞一下。实际上，我们在前期染色采用的是，找矩形端点，找到这样四个点再做交替染色，无论是行还是列都没有影响，可以将这些点忽略了。

   最后剩下的就是那些无法形成矩形端点的，那就更好办了，如果一个三缺一的，那么直角点的那个随意，剩余的行列交替，三都达不到的，直接交替染色。

   --------------------------

3. 任意给一个8*8的01矩阵，你每次只能选一个3*3或者4*4的子矩阵并把里面的元素全部取反。是否总有办法把矩阵里的所有数全部变为1？

   原文答案：

   > 不能。大矩阵中有36个3*3的小矩阵和25个4*4的小矩阵，因此总共有61种可能的操作。显然，给定一个操作序列，这些操作的先后顺序 是无关紧要的；另外，在一个操作序列中使用两种或两种以上相同的操作也是无用的。因此，实质不同的操作序列只有2^61种。但8*8的01矩阵一共有 2^64种，因此不是每种情况都有办法达到目的。

   ----------------------------------

4. 五个洞排成一排，其中一个洞里藏有一只狐狸。每个夜晚，狐狸都会跳到一个相邻的洞里；每个白天，你都只允许检查其中一个洞。怎样才能保证狐狸最终会被抓住？

   原文答案:

   > 按照2, 3, 4, 2, 3, 4的顺序检查狐狸洞可以保证抓住狐狸。为了说明这个方案是可行的，用集合F表示狐狸可能出现的位置，初始时F = {1, 2, 3, 4, 5}。如果它不在2号洞，则第二天狐狸已经跑到了F = {2, 3, 4, 5}。如果此时它不在3号洞，则第三天狐狸一定跑到了F = {1, 3, 4, 5}。如果此时它不在4号洞，则再过一晚后F = {2, 4}。如果此时它不在2号洞，则再过一天F = {3, 5}。如果此时它不在3号洞，再过一天它就一定跑到4号洞了。
   >
   > 方案不是唯一的，下面这些方案都是可行的：
   >
   > 2, 3, 4, 4, 3, 2
   > 4, 3, 2, 2, 3, 4
   > 4, 3, 2, 4, 3, 2

   拓展以下：如果是n只狐狸，有N个洞（N>>n），同样这些狐狸每晚也会跳到附近的洞，但是如果两只狐狸会跳到同一个洞时，狐狸会互相协商，总之双方都会跳到原本附近的洞中，且洞中只有一个狐狸【这就要求，如果发生链式反应，狐狸之间一步错，就需要涉及其它很多狐狸改变既定的洞口】。如果每次只能检查n个洞口，如何逮住这些狐狸？

   -----------------------

5. 有64匹马，8条赛道，要找出最快的4匹马，最少要几次呢？【没有计时器】

   最多需要11次。

   首先64匹马分8个批次比赛，得到8条相对排名结果。【此时已经有8次】

   - 因为每队的后四名必然不符合，去除后剩32匹马。

   8个批次的第一名再比赛【此时为第9次】。本次的后四名对应的批次全部排除，剩16匹。

   - 其中此时的第一名必然是最快的（不用考虑），第四名对应的批次剩余的3个也不用考虑。于是剩下12匹。

   随便挑8匹比赛【第10次】，前四名与剩下的四匹比赛【第11次】，前三名与一开始的第一名组成最快的四匹马。

   ---------------------------

6. 取石子。有两堆石子，数量各自都是随意的，两个人先后依此拿石头，两种拿法，要么在一堆里随便拿，要么在两堆里拿同样数量的石头。最后谁把石头拿完就胜利。

   这里的问题关键在于最后要么只剩一堆，要么两堆数量相同。

   假如你是先手，【当然了，如果一堆是0个，或两堆数量相同，那就没必要考虑】，这里假设两堆数量不同。为了取胜，首先避免让两堆数量等同【且不为0】，但如果遇到2：1的状况你就输定了。

   现在我们换个具体点的例子，一堆是3，一堆是5.

   > 我们需要避免自己遇到1：2。一方面要避免给对方的结果是1+c：2+c，或1：2+c，或2：1+c
   >
   > 3：4$\longrightarrow $ 1:2 不行
   >
   > 那我们就没有其它选择了，
   >
   > 于是我们输了。

   如果是3:6呢。直接拿一个，转化为3：5给对方，我们赢了。3：7，3：8也同样，我们都能赢。

   ​		4：5$\longrightarrow $ 3：5，又赢了 ，4：6$\longrightarrow $ 3：5又赢了。

   4：7，我们必须把它转化为1：2或3：5，否则我们必输，可惜现在怎么也转化不了。于是又有了一个特殊的情况。这种特殊情况我们称之为奇异局势。

   这个问题其实被称为**威佐夫博弈**。

   我们接下来试着分析如何得出所有的奇异局势。

   > 首先，局势状况我们表示为（x,y），我们发现每个奇异局势的|x-y|的值不同。
   >
   > - 这是当然的，如果|x-y|等于前面奇异局势的差值，那么就可以转化为那个奇异局势，那当前的局势自然也不是一个奇异的
   >
   > 因此，我们首先要保证下一个局势的差值不等于前面奇异局势的差值，同时对应的x,y中的值也不能与前面的奇异局势有相同的，否则一步就可以转化。
   >
   > 假设x<y。S是当前奇异局势中x,y数值的集合，正整数集合N+，新的集合SN=N+-S，SN中最小的数字应该就是下一个奇异局势的x，加上下一次应该具备的差值，就可以得到对应的y值。，如果y正好不在S中，那基本就成了。
   >
   > 例如，(1,2),(3,5),(4,7),那么下一个x应该是6，对应的y就是10，分析一下，还真是输了。

   现在的问题就是，我们基本知道了怎么生成这些奇异局势，但如何根据给定的差值得出对应的奇异局势。

   > 通过上面的推导，我们基本上有一个认知，集合S是不断逼近N+的，而且x和y对应集合是互斥的。
   >
   > 巧了，我们有一个定理：贝蒂定理
   >
   > - 设a和b是两个正无理数，并且$\frac{1}{a}+\frac{1}{b}=1$
   >   记$P=\{[a*n],n\in N^+\},Q=\{[b*n],n\in N^+\}$ ,有$P\cap Q=\emptyset,P\cup Q=N^+$ 
   >
   > 我们的x,y不正好符合P和Q集合中的元素嘛，假设$x=[n*a],y=[n*b]$，如果n对应的是奇异局势的差值，且$[n*a]+n=[n*b]$，那不就是我们需要的嘛。
   >
   > 稍微转化一下
   >
   > $[n*a+n]=[n*b]\longrightarrow [(a+1)*n]=[b*n]$
   >
   > 因为n是随意的，则要求$a+1=b$，代入$\frac{1}{a}+\frac{1}{b}=1$ ，得到$a=\frac{\sqrt5+1}{2}$ 
   >
   > 于是第n个奇异局势为$([n*\frac{\sqrt5+1}{2}],[n*\frac{\sqrt5+1}{2}]+n)$ 

   > 那么这个贝蒂定理是怎么回事。
   >
   > $P\cap Q$
   >
   > - 假设$k\in P\cap Q, k=[n*a]=[m*b]$ 
   >
   >   $k<n*a, m*b<k+1$ 
   >
   >   $\frac{n}{k+1}<\frac{1}{a}<\frac{n}{k}, \frac{m}{k+1}<\frac{1}{b}<\frac{m}{k}$
   >
   >   $\frac{m+n}{k+1}<\frac{1}{a}+\frac{1}{b}<\frac{m+n}{k}$, 其中$\frac{1}{a}+\frac{1}{b}=1$
   >
   >   $k<m+n<k+1$ ,m和n是正整数，矛盾了
   >
   > $P\cup Q$
   >
   > - 假设$k\in N^+, k\notin P\cup Q$ 
   >
   >   $[n*a]<k<[(n+1)*a], [m*b]<k<[(m+1)*b]$
   >
   >   有，
   >
   >   ​	 	$n*a<k<(n+1)*a-1$
   >
   >   ​		 $m*b<k<(m+1)*b-1$
   >
   >   整理，
   >
   >   ​		$\frac{n}{k} <\frac{1}{a}<\frac{n+1}{k+1}$, $\frac{m}{k} <\frac{1}{b}<\frac{m+1}{k+1}$
   >
   >   于是，
   >
   >   ​		$\frac{m+n}{k}<\frac{1}{a}+\frac{1}{b}<\frac{m+n+2}{k+1}$
   >
   >   得到，
   >
   >   ​		$m+n<k<k+1<m+n+2$， 同样的，应该是整数的情况下，这是矛盾的。
